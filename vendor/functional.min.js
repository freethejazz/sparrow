/*! functional 2015-01-17 */
var F={};F.MONAD=function(a){"use strict";function b(b){var d=Object.create(c);return d.bind||(d.bind=function(a,c){return a.apply(void 0,[b].concat(Array.prototype.slice.apply(c||[])))}),"function"==typeof a&&(b=a(d,b)),d}var c=Object.create(null);return c.is_monad=!0,b.method=function(a,d){return c[a]=d,b},b.liftValue=function(a,d){return c[a]=function(){return this.bind(d,arguments)},b},b.lift=function(a,d){return void 0===d&&(d=a,a=d.name,console.log(d.name)),c[a]=function(){var a=this.bind(d,arguments);return a&&a.is_monad===!0?a:b(a)},b},b},Function.prototype.autoCurry=function(){return _.curry(this)},F.Array=F.MONAD(),F.Array.lift("map",_.map),F.Object=F.MONAD(),F.Object.lift("map",_.map),F.Object.lift("reduce",_.reduce),F.Either=function(a,b){var c=F.MONAD();return c(void 0===b||null===b?a:b)}.autoCurry(),F.exec=function(a){var b=_.toArray(arguments).slice(1);return function(c){return c[a].apply(c,b)}}.autoCurry(),F.Identity=F.MONAD(),F.Maybe=F.MONAD(function(a,b){return null===b||void 0===b?(a.is_null=!0,a.bind=function(){return a},null):b}),F.Promise=F.MONAD(function(a){var b,c,d;a.isPromise=!0,a.bind=function(a){return void 0===b?(c=a,d=F.Promise()):a(b)},a.resolve=function(a){if(b=a,c){var e=c(a);if(d&&e){var f;e.bind(function(a){f=a}),d.resolve(f)}}}}),F.State=F.MONAD(function(a,b){var c;a.setState=function(b){return c=b,a},a.bind=function(a){var d=Array.prototype.slice.call(arguments,1);return b.bind(function(b){return a.apply(void 0,[{value:b,state:c}].concat(d))})}});